<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warframe Daily Checklist</title>
    <meta name="theme-color" content="#00d4ff">
    <meta name="description" content="Track your daily and weekly Warframe tasks">
    
    <!-- Favicon and PWA Assets -->
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.json">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 15px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        h1 {
            text-align: center;
            color: #00d4ff;
            margin-bottom: 20px;
            font-size: 2em;
            text-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 10px;
            font-size: 0.9em;
        }

        .stat {
            text-align: center;
            color: #00d4ff;
        }

        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            display: block;
        }

        .timer-info {
            background: rgba(0, 0, 0, 0.4);
            padding: 8px;
            border-radius: 6px;
            margin-bottom: 15px;
            text-align: center;
            border: 1px solid rgba(0, 212, 255, 0.3);
            font-size: 0.85em;
        }

        .grid-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .section {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 15px;
            border-left: 3px solid #00d4ff;
        }

        .section h2 {
            color: #00d4ff;
            margin-bottom: 10px;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-icon {
            font-size: 1em;
        }

        .task-list {
            list-style: none;
            padding: 0;
        }

        .task-item {
            display: flex;
            align-items: center;
            margin-bottom: 6px;
            padding: 6px 8px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 4px;
            transition: all 0.2s ease;
            border: 1px solid transparent;
            font-size: 0.9em;
        }

        .task-item:hover {
            background: rgba(255, 255, 255, 0.06);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .task-item.completed {
            background: rgba(0, 212, 255, 0.08);
            border-color: rgba(0, 212, 255, 0.3);
        }

        .task-checkbox {
            appearance: none;
            width: 16px;
            height: 16px;
            border: 2px solid #00d4ff;
            border-radius: 3px;
            margin-right: 8px;
            position: relative;
            cursor: pointer;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }

        .task-checkbox:checked {
            background: #00d4ff;
            border-color: #00d4ff;
        }

        .task-checkbox:checked::after {
            content: '‚úì';
            position: absolute;
            top: -2px;
            left: 1px;
            color: #000;
            font-weight: bold;
            font-size: 12px;
        }

        .task-label {
            flex: 1;
            cursor: pointer;
            transition: all 0.2s ease;
            line-height: 1.2;
        }

        .task-item.completed .task-label {
            text-decoration: line-through;
            opacity: 0.6;
        }

        .task-compact {
            font-size: 0.85em;
        }

        .priority-high { border-left-color: #ff4757; }
        .priority-medium { border-left-color: #ffa502; }
        .priority-low { border-left-color: #2ed573; }

        .weekly-section {
            grid-column: 1 / -1;
            margin-top: 10px;
        }

        .weekly-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 10px;
        }

        .weekly-column {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 6px;
            padding: 10px;
        }

        .weekly-column h3 {
            color: #ffa502;
            font-size: 1em;
            margin-bottom: 8px;
            text-align: center;
        }

        .reset-btn {
            background: linear-gradient(135deg, #ff4757, #ff6b7a);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            margin-top: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 71, 87, 0.3);
        }

        .reset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 71, 87, 0.4);
        }

        @media (max-width: 768px) {
            .grid-layout {
                grid-template-columns: 1fr;
            }
            
            .weekly-grid {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 15px;
            }
            
            h1 {
                font-size: 1.5em;
            }
            
            .stats-bar {
                flex-direction: column;
                gap: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚ö° WARFRAME DAILY CHECKLIST ‚ö°</h1>
        
        <div class="timer-info">
            Daily Reset: <span id="daily-reset">Loading...</span> | Weekly Reset: <span id="weekly-reset">Loading...</span>
        </div>

        <div class="stats-bar">
            <div class="stat">
                <span class="stat-value" id="daily-progress">0%</span>
                <span>Daily</span>
            </div>
            <div class="stat">
                <span class="stat-value" id="weekly-progress">0%</span>
                <span>Weekly</span>
            </div>
            <div class="stat">
                <span class="stat-value" id="completed-tasks">0</span>
                <span>Done</span>
            </div>
        </div>

        <div class="grid-layout">
            <div class="section priority-high">
                <h2><span class="section-icon">üî•</span>Essential Daily</h2>
                <ul class="task-list" id="essential-tasks">
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="daily-login">
                        <label for="daily-login" class="task-label">Daily Login Reward</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="sortie">
                        <label for="sortie" class="task-label">Daily Sortie</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="syndicate-daily">
                        <label for="syndicate-daily" class="task-label">Syndicate Missions</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="focus-cap">
                        <label for="focus-cap" class="task-label">Focus Cap (250K+)</label>
                    </li>
                </ul>
            </div>

            <div class="section priority-medium">
                <h2><span class="section-icon">‚öîÔ∏è</span>Combat & Farming</h2>
                <ul class="task-list" id="combat-tasks">
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="steel-path">
                        <label for="steel-path" class="task-label">Steel Path Incursions</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="arbitrations">
                        <label for="arbitrations" class="task-label">Arbitrations</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="relic-farming">
                        <label for="relic-farming" class="task-label">Open Prime Relics</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="lich-sister">
                        <label for="lich-sister" class="task-label">Lich/Sister Progress</label>
                    </li>
                </ul>
            </div>

            <!-- Syndicates & Open World (Combined Section) -->
            <div class="section priority-medium">
                <h2><span class="section-icon">üèõÔ∏è</span>Syndicates & Open World</h2>
                <ul class="task-list" id="syndicate-tasks">
                    <!-- World Syndicates -->
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="world-syndicates">
                        <label for="world-syndicates" class="task-label">World Syndicates (Standing)</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="cephalon-simaris">
                        <label for="cephalon-simaris" class="task-label">Cephalon Simaris (Relay)</label>
                    </li>
                    
                    <!-- Cetus -->
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="ostron">
                        <label for="ostron" class="task-label">Ostron (Cetus)</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="quills">
                        <label for="quills" class="task-label">The Quills (Cetus)</label>
                    </li>
                    
                    <!-- Fortuna -->
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="solaris-united">
                        <label for="solaris-united" class="task-label">Solaris United (Fortuna)</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="vox-solaris">
                        <label for="vox-solaris" class="task-label">Vox Solaris (Fortuna)</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="ventkids">
                        <label for="ventkids" class="task-label">Ventkids (Fortuna)</label>
                    </li>
                    
                    <!-- Deimos -->
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="entrati">
                        <label for="entrati" class="task-label">Entrati (Necralisk)</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="necraloid">
                        <label for="necraloid" class="task-label">Necraloid (Necralisk)</label>
                    </li>
                    
                    <!-- Zariman -->
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="holdfasts">
                        <label for="holdfasts" class="task-label">The Holdfasts (Chrysalith)</label>
                    </li>
                    
                    <!-- Other -->
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="cavia">
                        <label for="cavia" class="task-label">Cavia (Sanctum Anatomica)</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="hex">
                        <label for="hex" class="task-label">The Hex (H√∂llvania Central Mall)</label>
                    </li>
                </ul>
            </div>

            <div class="section priority-low">
                <h2><span class="section-icon">üîß</span>Resources</h2>
                <ul class="task-list" id="resource-tasks">
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="foundry-check">
                        <label for="foundry-check" class="task-label">Check Foundry</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="forma-craft">
                        <label for="forma-craft" class="task-label">Craft Forma/Resources</label>
                    </li>
                    <li class="task-item">
                        <input type="checkbox" class="task-checkbox" id="inventory-manage">
                        <label for="inventory-manage" class="task-label">Inventory Management</label>
                    </li>
                </ul>
            </div>
        </div>

        <div class="section weekly-section priority-low">
            <h2><span class="section-icon">üìÖ</span>Weekly Tasks</h2>
            <div class="weekly-grid">
                <div class="weekly-column">
                    <h3>Core Weekly</h3>
                    <ul class="task-list">
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="nightwave">
                            <label for="nightwave" class="task-label">Nightwave Challenges</label>
                        </li>
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="nightwave-spend">
                            <label for="nightwave-spend" class="task-label">Nightwave Credits</label>
                        </li>
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="archon-hunt">
                            <label for="archon-hunt" class="task-label">Archon Hunt</label>
                        </li>
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="maroo-treasure">
                            <label for="maroo-treasure" class="task-label">Ayatan Hunt (Maroo)</label>
                        </li>
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="help-clem">
                            <label for="help-clem" class="task-label">Help Clem</label>
                        </li>
                    </ul>
                </div>

                <div class="weekly-column">
                    <h3>Vendors & NPCs</h3>
                    <ul class="task-list">
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="palladino-visit">
                            <label for="palladino-visit" class="task-label">Paladino (Riven Slivers)</label>
                        </li>
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="yonta-kuva">
                            <label for="yonta-kuva" class="task-label">Yonta (Kuva)</label>
                        </li>
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="acridies-duviri">
                            <label for="acridies-duviri" class="task-label">Acridies (Pathos Clamps)</label>
                        </li>
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="teshin-steel">
                            <label for="teshin-steel" class="task-label">Teshin (Steel Essence)</label>
                        </li>
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="bird3-cavia">
                            <label for="bird3-cavia" class="task-label">Bird 3 (Cavia Shard)</label>
                        </li>
                    </ul>
                </div>

                <div class="weekly-column">
                    <h3>Circuit & Activities</h3>
                    <ul class="task-list">
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="duviri-circuit-normal">
                            <label for="duviri-circuit-normal" class="task-label">Duviri Circuit</label>
                        </li>
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="duviri-circuit-steel">
                            <label for="duviri-circuit-steel" class="task-label">Steel Path Circuit</label>
                        </li>
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="kahl-mission">
                            <label for="kahl-mission" class="task-label">Kahl (Break Narmer)</label>
                        </li>
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="netracells">
                            <label for="netracells" class="task-label">Netracells (5x)</label>
                        </li>
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="calendar-pom2">
                            <label for="calendar-pom2" class="task-label">Calendar (POM-2)</label>
                        </li>
                    </ul>
                </div>

                <div class="weekly-column">
                    <h3>Elite Endgame</h3>
                    <ul class="task-list">
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="elite-deep-archimedea">
                            <label for="elite-deep-archimedea" class="task-label">Elite Deep Archimedea</label>
                        </li>
                        <li class="task-item task-compact">
                            <input type="checkbox" class="task-checkbox" id="elite-temporal-archimedea">
                            <label for="elite-temporal-archimedea" class="task-label">Elite Temporal Archimedea</label>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div style="text-align: center;">
            <button class="reset-btn" onclick="resetChecklist()">üîÑ Reset All</button>
        </div>
    </div>

    <script>
        // Timer functions
        function updateTimers() {
            const now = new Date();
            const utc = new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), 
                               now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds());
            
            // Daily reset at 00:00 UTC
            const dailyReset = new Date(utc);
            dailyReset.setUTCHours(24, 0, 0, 0);
            
            // Weekly reset on Monday at 00:00 UTC
            const weeklyReset = new Date(utc);
            const daysUntilMonday = (8 - utc.getUTCDay()) % 7;
            weeklyReset.setUTCDate(utc.getUTCDate() + daysUntilMonday);
            weeklyReset.setUTCHours(0, 0, 0, 0);
            if (daysUntilMonday === 0 && utc.getUTCHours() === 0) {
                weeklyReset.setUTCDate(weeklyReset.getUTCDate() + 7);
            }
            
            const dailyDiff = dailyReset - utc;
            const weeklyDiff = weeklyReset - utc;
            
            document.getElementById('daily-reset').textContent = formatTime(dailyDiff);
            document.getElementById('weekly-reset').textContent = formatTime(weeklyDiff);
        }
        
        function formatTime(ms) {
            const hours = Math.floor(ms / (1000 * 60 * 60));
            const minutes = Math.floor((ms % (1000 * 60 * 60)) / (1000 * 60));
            return `${hours}h ${minutes}m`;
        }
        
        // Task management
        function updateProgress() {
            const allTasks = document.querySelectorAll('.task-checkbox');
            const dailyTasks = document.querySelectorAll(
                '#essential-tasks .task-checkbox, ' +
                '#combat-tasks .task-checkbox, ' +
                '#syndicate-tasks .task-checkbox, ' + 
                '#resource-tasks .task-checkbox'
            );
            const weeklyTasks = document.querySelectorAll('.weekly-column .task-checkbox');
            
            const completedDaily = Array.from(dailyTasks).filter(cb => cb.checked).length;
            const completedWeekly = Array.from(weeklyTasks).filter(cb => cb.checked).length;
            const totalCompleted = Array.from(allTasks).filter(cb => cb.checked).length;
            
            const dailyProgress = Math.round((completedDaily / dailyTasks.length) * 100);
            const weeklyProgress = Math.round((completedWeekly / weeklyTasks.length) * 100);
            
            document.getElementById('daily-progress').textContent = dailyProgress + '%';
            document.getElementById('weekly-progress').textContent = weeklyProgress + '%';
            document.getElementById('completed-tasks').textContent = totalCompleted;
        }
        
        function saveState() {
            const checkboxes = document.querySelectorAll('.task-checkbox');
            const state = {};
            checkboxes.forEach(cb => {
                state[cb.id] = cb.checked;
            });
            localStorage.setItem('warframeChecklistState', JSON.stringify(state));
        }
        
        function loadState() {
            const savedState = localStorage.getItem('warframeChecklistState');
            if (savedState) {
                const state = JSON.parse(savedState);
                Object.keys(state).forEach(id => {
                    const checkbox = document.getElementById(id);
                    if (checkbox) {
                        checkbox.checked = state[id];
                        updateTaskAppearance(checkbox);
                    }
                });
                updateProgress();
            }
        }
        
        function updateTaskAppearance(checkbox) {
            const taskItem = checkbox.closest('.task-item');
            if (checkbox.checked) {
                taskItem.classList.add('completed');
            } else {
                taskItem.classList.remove('completed');
            }
        }
        
        function resetChecklist() {
            if (confirm('Are you sure you want to reset all tasks?')) {
                document.querySelectorAll('.task-checkbox').forEach(cb => {
                    cb.checked = false;
                    updateTaskAppearance(cb);
                });
                updateProgress();
                saveState();
            }
        }
        
        // Event listeners
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.task-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', (e) => {
                    updateTaskAppearance(e.target);
                    updateProgress();
                    saveState();
                });
            });
            
            loadState();
            updateTimers();
            setInterval(updateTimers, 60000); // Update every minute
        });

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registered:', registration.scope);
                    })
                    .catch(error => {
                        console.log('ServiceWorker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html>
